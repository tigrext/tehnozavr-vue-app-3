(function(){var e={86:function(e,t,r){"use strict";r.d(t,{C:function(){return a}});const a="https://vue-study.skillbox.cc"},3736:function(e,t,r){"use strict";function a(e){return(new Intl.NumberFormat).format(e)}r.d(t,{Z:function(){return a}})},9098:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var a=r(3736),o=r(2931),s=r(6252),l=r(86),i=r(6154);function c(){const e=(0,o.iH)(null),t=(0,s.Fl)((()=>e.value.category)),r=(0,s.Fl)((()=>e.value?e.value.items.map((e=>({...e,image:e.image.file.url}))):[])),c=(0,o.qj)({isLoading:!1,isFailed:!1}),n=t=>{c.isLoading=!0,c.isFailed=!1,i.Z.get(l.C+"/api/products/"+t).then((t=>{const r=t.data;e.value=Object.assign(r,{PricePretty:(0,a.Z)(r.price)})})).catch((()=>c.isFailed=!0)).then((()=>c.isLoading=!1))};return{product:e,category:t,products:r,status:c,fetchProduct:n}}},2820:function(e,t,r){"use strict";var a=r(8061),o=r(6252);const s={class:"header"},l={class:"header__wrapper container"},i=(0,o._)("span",{class:"header__info"},"Каталог",-1),c=(0,o._)("a",{class:"header__logo",href:"#"},[(0,o._)("img",{src:"img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"})],-1),n=(0,o._)("a",{class:"header__tel",href:"tel:8 800 600 90 09"}," 8 800 600 90 09 ",-1),u=(0,o.uE)('<footer class="footer"><div class="footer__wrapper container"><ul class="footer__links"><li><a class="footer__link" href="#"> Каталог </a></li><li><a class="footer__link" href="tel:88006009009"> 8 800 600 90 09 </a></li><li><a class="footer__link" href="mailto:hi@technozavrrr.com"> hi@technozavrrr.com </a></li><li><a class="footer__link" href="#"> Распродажа </a></li><li><a class="footer__link footer__link--medium" href="#"> Заказать звонок </a></li></ul><ul class="footer__social social"><li class="social__item"><a class="social__link" href="#" aria-label="Вконтакте"><svg width="20" height="11" fill="currentColor"><use xlink:href="#icon-vk"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Инстаграм"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-insta"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Facebook"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-facebook"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Twitter"><svg width="17" height="14" fill="currentColor"><use xlink:href="#icon-twitter"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Telegram"><svg width="19" height="17" fill="currentColor"><use xlink:href="#icon-telegram"></use></svg></a></li></ul><p class="footer__desc"> Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. </p><ul class="footer__data"><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Политика конфиденциальности </a></li><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Публичная оферта </a></li></ul><span class="footer__copyright"> © 2020 Технозавррр </span></div></footer><div id="teleport-target"></div>',2);function d(e,t,r,a,d,_){const p=(0,o.up)("CartIndicator"),m=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("header",s,[(0,o._)("div",l,[i,c,n,(0,o.Wm)(p)])]),((0,o.wg)(),(0,o.j4)(m,{key:e.$route.fullPath})),u],64)}var _=r(6612);const p=(0,o._)("svg",{width:"30",height:"21",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-cart"})],-1),m={class:"header__count","aria-label":"Количество товаров"};function h(e,t,r,a,s,l){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(i,{class:"header__cart","aria-label":"Корзина с товарами",to:{name:"cart"}},{default:(0,o.w5)((()=>[p,(0,o._)("span",m,(0,_.zw)(e.$store.state.cartProducts.length),1)])),_:1})}var f={},g=r(3744);const b=(0,g.Z)(f,[["render",h]]);var v=b,y=r(3907),k={components:{CartIndicator:v},created(){const e=localStorage.getItem("userAccessKey");e&&this.updateUserAccessKey(e),this.loadCart()},methods:{...(0,y.nv)(["loadCart"]),...(0,y.OI)(["updateUserAccessKey"])}};const P=(0,g.Z)(k,[["render",d]]);var w=P,C=r(2119);const D={class:"content container"},I=(0,o._)("div",{class:"content__top content__top--catalog"},[(0,o._)("h1",{class:"content__title"}," Каталог "),(0,o._)("span",{class:"content__info"}," 152 товара ")],-1),z={class:"content__catalog"},T={class:"catalog"},A={key:0},F={key:1},Z=(0,o.Uk)("Произошла ошибка при загрузке товаров... ");function O(e,t,r,s,l,i){const c=(0,o.up)("productFilter"),n=(0,o.up)("ProductList"),u=(0,o.up)("BasePagination");return(0,o.wg)(),(0,o.iD)("main",D,[I,(0,o._)("div",z,[(0,o.Wm)(c,{"price-from":l.filterPriceFrom,"onUpdate:price-from":t[0]||(t[0]=e=>l.filterPriceFrom=e),"price-to":l.filterPriceTo,"onUpdate:price-to":t[1]||(t[1]=e=>l.filterPriceTo=e),"category-id":l.filterCategoryID,"onUpdate:category-id":t[2]||(t[2]=e=>l.filterCategoryID=e),"colors-id":l.filterColorsId,"onUpdate:colors-id":t[3]||(t[3]=e=>l.filterColorsId=e)},null,8,["price-from","price-to","category-id","colors-id"]),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#teleport-target"})),(0,o._)("section",T,[l.productsLoading?((0,o.wg)(),(0,o.iD)("div",A,"Загрузка товаров...")):(0,o.kq)("",!0),l.productsLoadingFailed?((0,o.wg)(),(0,o.iD)("div",F,[Z,(0,o._)("button",{onClick:t[4]||(t[4]=(0,a.iM)(((...e)=>i.loadProducts&&i.loadProducts(...e)),["prevent"]))},"Попробовать ещё раз")])):(0,o.kq)("",!0),(0,o.Wm)(n,{products:i.products},null,8,["products"]),(0,o.Wm)(u,{modelValue:l.page,"onUpdate:modelValue":t[5]||(t[5]=e=>l.page=e),count:i.countProducts,"per-page":l.productsPerPage},null,8,["modelValue","count","per-page"])])])])}const V={class:"catalog__list"};function x(e,t,r,a,s,l){const i=(0,o.up)("ProductItems");return(0,o.wg)(),(0,o.iD)("ul",V,[(0,o.Wm)(i,{class:"catalog__item",products:r.products},null,8,["products"])])}const E=["src","alt"],U={class:"catalog__title"},$=["onClick"],S={class:"catalog__price"},W={class:"colors colors--black"},K={class:"colors__label"},M=["value","id"];function L(e,t,r,s,l,i){const c=(0,o.up)("router-link"),n=(0,o.up)("ProductQuickView"),u=(0,o.up)("BaseModal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.productsNormolized,(t=>((0,o.wg)(),(0,o.iD)("li",(0,o.dG)(e.$attrs,{key:t.id}),[(0,o.Wm)(c,{class:"catalog__pic",to:{name:"product",params:{id:t.id}}},{default:(0,o.w5)((()=>[(0,o._)("img",{src:t.image,alt:t.title},null,8,E)])),_:2},1032,["to"]),(0,o._)("h3",U,[(0,o._)("a",{href:"#",onClick:(0,a.iM)((e=>i.openQuickView(t.id)),["prevent"])},(0,_.zw)(t.title),9,$)]),(0,o._)("span",S,(0,_.zw)(t.PricePretty)+" ₽ ",1),(0,o._)("ul",W,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.colors,(e=>((0,o.wg)(),(0,o.iD)("li",{class:"colors__item",key:e.id},[(0,o._)("label",K,[(0,o._)("input",{class:"colors__radio sr-only",type:"radio",value:e.id,id:e.id},null,8,M),(0,o._)("span",{class:"colors__value",style:(0,_.j5)({background:e.code})},null,4)])])))),128))])],16)))),128)),(0,o.Wm)(u,{open:i.isQuickViewOpen,"onUpdate:open":t[0]||(t[0]=e=>i.isQuickViewOpen=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{"product-id":l.currentProductId},null,8,["product-id"])])),_:1},8,["open"])],64)}var j={};function B(e,t){j.$emit("gotoPage",e,t)}var H=r(3736),N=r(8279),q={inheritAttrs:!1,components:{BaseModal:N.Z,ProductQuickView:(0,o.RC)({loader:()=>r.e(395).then(r.bind(r,4395)),delay:0,loadingComponent:()=>(0,o.h)("div","Загрузка...")})},data(){return{color:"#73B6EA",currentProductId:null}},computed:{isQuickViewOpen:{get(){return!!this.currentProductId},set(e){e||(this.currentProductId=null)}},productsNormolized(){return this.products.map((e=>({...e,PricePretty:(0,H.Z)(e.price)})))}},methods:{gotoPage:B,openQuickView(e){this.currentProductId=e}},props:["products"]};const Y=(0,g.Z)(q,[["render",L]]);var R=Y,Q={components:{ProductItems:R},props:["products"]};const G=(0,g.Z)(Q,[["render",x]]);var X=G;const J={class:"catalog__pagination pagination"},ee={class:"pagination__item"},te=["disabled"],re=(0,o._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-arrow-left"})],-1),ae=[re],oe=["onClick"],se={class:"pagination__item"},le=["disabled"],ie=(0,o._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-arrow-right"})],-1),ce=[ie];function ne(e,t,r,s,l,i){return(0,o.wg)(),(0,o.iD)("ul",J,[(0,o._)("li",ee,[(0,o._)("button",{class:(0,_.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":1===i.page}]),href:"#",onClick:t[0]||(t[0]=(0,a.iM)((e=>i.prevPage()),["prevent"])),disabled:1===i.page,"aria-label":"Предыдущая страница"},ae,10,te)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.pages,(e=>((0,o.wg)(),(0,o.iD)("li",{class:"pagination__item",key:e},[(0,o._)("a",{href:"#",class:(0,_.C_)(["pagination__link",{"pagination__link--current":e===i.page}]),onClick:(0,a.iM)((t=>i.paginate(e)),["prevent"])},(0,_.zw)(e),11,oe)])))),128)),(0,o._)("li",se,[(0,o._)("button",{class:(0,_.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":7===i.page}]),href:"#",onClick:t[1]||(t[1]=(0,a.iM)((e=>i.nextPage()),["prevent"])),disabled:7===i.page,"aria-label":"Следующая страница"},ce,10,le)])])}var ue={props:["modelValue","count","perPage"],computed:{page(){return this.modelValue},pages(){return Math.ceil(this.count/this.perPage)}},methods:{paginate(e){this.$emit("update:modelValue",e)},nextPage(){this.$emit("update:modelValue",this.page+1)},prevPage(){this.$emit("update:modelValue",this.page-1)}}};const de=(0,g.Z)(ue,[["render",ne]]);var _e=de;const pe={class:"filter"},me=(0,o._)("h2",{class:"filter__title"},"Фильтры",-1),he={class:"form__block"},fe=(0,o._)("legend",{class:"form__legend"},"Цена",-1),ge={class:"form__label form__label--price"},be=(0,o._)("span",{class:"form__value"},"От",-1),ve={class:"form__label form__label--price"},ye=(0,o._)("span",{class:"form__value"},"До",-1),ke={class:"form__block"},Pe=(0,o._)("legend",{class:"form__legend"},"Категория",-1),we={class:"form__label form__label--select"},Ce=(0,o._)("option",{value:"0"},"Все категории",-1),De=["value"],Ie={class:"form__block"},ze=(0,o._)("legend",{class:"form__legend"},"Цвет",-1),Te={class:"colors"},Ae=["for"],Fe=["id","value"],Ze=(0,o.uE)('<fieldset class="form__block"><legend class="form__legend">Объемб в ГБ</legend><ul class="check-list"><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="8" checked=""><span class="check-list__desc"> 8 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="16"><span class="check-list__desc"> 16 <span>(461)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="32"><span class="check-list__desc"> 32 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="64"><span class="check-list__desc"> 64 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="128"><span class="check-list__desc"> 128 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="264"><span class="check-list__desc"> 264 <span>(313)</span></span></label></li></ul></fieldset><button class="filter__submit button button--primery" type="submit"> Применить </button>',2);function Oe(e,t,r,s,l,i){return(0,o.wg)(),(0,o.iD)("aside",pe,[me,(0,o._)("form",(0,o.dG)(e.$attrs,{class:"filter__form form",action:"#",method:"get",onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>i.submit&&i.submit(...e)),["prevent"]))}),[(0,o._)("fieldset",he,[fe,(0,o._)("label",ge,[(0,o.wy)((0,o._)("input",{class:"form__input",type:"text",name:"min-price","onUpdate:modelValue":t[0]||(t[0]=e=>l.currentPriceFrom=e)},null,512),[[a.nr,l.currentPriceFrom,void 0,{number:!0}]]),be]),(0,o._)("label",ve,[(0,o.wy)((0,o._)("input",{class:"form__input",type:"text",name:"max-price","onUpdate:modelValue":t[1]||(t[1]=e=>l.currentPriceTo=e)},null,512),[[a.nr,l.currentPriceTo,void 0,{number:!0}]]),ye])]),(0,o._)("fieldset",ke,[Pe,(0,o._)("label",we,[(0,o.wy)((0,o._)("select",{class:"form__select",name:"category","onUpdate:modelValue":t[2]||(t[2]=e=>l.currentCategoryId=e)},[Ce,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.categories,(e=>((0,o.wg)(),(0,o.iD)("option",{value:e.id,key:e.id},(0,_.zw)(e.title),9,De)))),128))],512),[[a.bM,l.currentCategoryId,void 0,{number:!0}]])])]),(0,o._)("fieldset",Ie,[ze,(0,o._)("ul",Te,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.colors,(e=>((0,o.wg)(),(0,o.iD)("li",{class:"colors__item",key:e.id},[(0,o._)("label",{for:e.id,class:"colors__label"},[(0,o.wy)((0,o._)("input",{class:"colors__radio sr-only",type:"radio",name:"color",id:e.id,value:e.id,"onUpdate:modelValue":t[3]||(t[3]=e=>l.currentColorsId=e)},null,8,Fe),[[a.G2,l.currentColorsId,void 0,{number:!0}]]),(0,o._)("span",{class:"colors__value",style:(0,_.j5)({background:e.code})},null,4)],8,Ae)])))),128))])]),Ze,(0,o._)("button",{class:"filter__reset button button--second",type:"button",onClick:t[4]||(t[4]=(0,a.iM)(((...e)=>i.reset&&i.reset(...e)),["prevent"]))}," Сбросить ")],16)])}var Ve=r(6154),xe=r(86),Ee={data(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,currentColorsId:0,categoriesDate:null,colorsDate:null}},props:["priceFrom","priceTo","categoryId","colorsId"],computed:{categories(){return this.categoriesDate?this.categoriesDate.items:[]},colors(){return this.colorsDate?this.colorsDate.items:[]}},watch:{priceFrom(e){this.currentPriceFrom=e},priceTo(e){this.currentPriceTo=e},categoryId(e){this.currentCategoryId=e},colorsId(e){this.currentColorsId=e}},methods:{submit(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId),this.$emit("update:colorsId",this.currentColorsId)},reset(){this.$emit("update:priceFrom",0),this.$emit("update:priceTo",0),this.$emit("update:categoryId",0),this.$emit("update:colorsId",0)},loadCategories(){Ve.Z.get(xe.C+"/api/productCategories").then((e=>this.categoriesDate=e.data))},loadColors(){Ve.Z.get(xe.C+"/api/colors").then((e=>this.colorsDate=e.data))}},created(){this.loadCategories(),this.loadColors()}};const Ue=(0,g.Z)(Ee,[["render",Oe]]);var $e=Ue,Se={components:{ProductList:X,BasePagination:_e,productFilter:$e},data(){return{filterPriceFrom:0,filterPriceTo:0,filterCategoryID:0,filterColorsId:0,page:1,productsPerPage:3,productsData:null,productsLoading:!1,productsLoadingFailed:!1}},computed:{products(){return this.productsData?this.productsData.items.map((e=>({...e,image:e.image.file.url}))):[]},countProducts(){return this.productsData?this.productsData.pagination.total:0}},methods:{loadProducts(){this.productsLoading=!0,this.productsLoadingFailed=!1,clearTimeout(this.loadProductsTimer),this.loadProductsTimer=setTimeout((()=>{Ve.Z.get(xe.C+"/api/products",{params:{page:this.page,limit:this.productsPerPage,categoryId:this.filterCategoryID,minPrice:this.filterPriceFrom,maxPrice:this.filterPriceTo,colorId:this.filterColorsId}}).then((e=>this.productsData=e.data)).catch((()=>this.productsLoadingFailed=!0)).then((()=>this.productsLoading=!1))}),0)}},watch:{page(){this.loadProducts()},filterPriceFrom(){this.loadProducts()},filterPriceTo(){this.loadProducts()},filterCategoryID(){this.loadProducts()},filterColorsId(){this.loadProducts()}},created(){this.loadProducts()}};const We=(0,g.Z)(Se,[["render",O]]);var Ke=We;function Me(e,t,r,a,s,l){return(0,o.wg)(),(0,o.iD)("h1",null,"Страница не найдена")}var Le={};const je=(0,g.Z)(Le,[["render",Me]]);var Be=je;const He={key:0,class:"content container"},Ne={key:1,class:"content container"},qe={key:2,class:"content container"},Ye={class:"content__top"},Re={class:"breadcrumbs"},Qe={class:"breadcrumbs__item"},Ge=(0,o.Uk)(" Каталог "),Xe={class:"breadcrumbs__item"},Je={class:"breadcrumbs__item"},et={class:"breadcrumbs__link"},tt={class:"item"},rt={class:"item__pics pics"},at={class:"pics__wrapper"},ot=["src","alt"],st={class:"item__info"},lt={class:"item__code"},it={class:"item__title"},ct={class:"item__form"},nt={class:"item__price"},ut={class:"form__block"},dt=(0,o._)("legend",{class:"form__legend"},"Цвет:",-1),_t={class:"colors"},pt=["for"],mt=["value","id"],ht=(0,o.uE)('<fieldset class="form__block"><legend class="form__legend">Объемб в ГБ:</legend><ul class="sizes sizes--primery"><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="32"><span class="sizes__value"> 32gb </span></label></li><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="64"><span class="sizes__value"> 64gb </span></label></li><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="128" checked=""><span class="sizes__value"> 128gb </span></label></li></ul></fieldset>',1),ft={class:"item__row"},gt=["disabled"],bt=(0,o.Uk)(" Товар добавлен в корзину "),vt=(0,o.uE)('<div class="item__desc"><ul class="tabs"><li class="tabs__item"><a class="tabs__link tabs__link--current"> Описание </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Характеристики </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Гарантия </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Оплата и доставка </a></li></ul><div class="item__content"><p> Навигация GPS, ГЛОНАСС, BEIDOU Galileo и QZSS<br> Синхронизация со смартфоном<br> Связь по Bluetooth Smart, ANT+ и Wi-Fi<br> Поддержка сторонних приложений<br></p><a href="#"> Все характеристики </a><h3>Что это?</h3><p> Wahoo ELEMNT BOLT GPS - это велокомпьютер, который позволяет оптимизировать свои велотренировки, сделав их максимально эффективными. Wahoo ELEMNT BOLT GPS синхронизируется с датчиками по ANT+, объединяя полученную с них информацию. Данные отображаются на дисплее, а также сохраняются на смартфоне. При этом на мобильное устройство можно установить как фирменное приложение, так и различные приложения сторонних разработчиков. Велокомпьютер точно отслеживает местоположение, принимая сигнал с целого комплекса спутников. Эта информация позволяет смотреть уже преодоленные маршруты и планировать новые велопрогулки. </p><h3>Дизайн</h3><p> Велокомпьютер Wahoo ELEMNT BOLT очень компактный. Размеры устройства составляют всего 74,6 x 47,3 x 22,1 мм. что не превышает габариты смартфона. Корпус гаджета выполнен из черного пластика. На обращенной к пользователю стороне расположен дисплей диагональю 56 мм. На дисплей выводятся координаты и скорость,а также полученная со смартфона и синхронизированных датчиков информация: интенсивность, скорость вращения педалей, пульс и т.д. (датчики не входят в комплект поставки). Корпус велокомпьютера имеет степень защиты от влаги IPX7. Это означает, что устройство не боится пыли, а также выдерживает кратковременное (до 30 минут) погружение в воду на глубину не более 1 метра. </p></div></div>',1);function yt(e,t,r,s,l,i){const c=(0,o.up)("router-link"),n=(0,o.up)("ProductAddRemove"),u=(0,o.up)("BaseModal");return e.productStatus.isLoading?((0,o.wg)(),(0,o.iD)("main",He,"Загрузка товара...")):e.productStatus.isFailed?((0,o.wg)(),(0,o.iD)("main",Ne,"Не удалось загрузить товар...")):((0,o.wg)(),(0,o.iD)("main",qe,[(0,o._)("div",Ye,[(0,o._)("ul",Re,[(0,o._)("li",Qe,[(0,o.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[Ge])),_:1})]),(0,o._)("li",Xe,[(0,o.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,_.zw)(e.category.title),1)])),_:1})]),(0,o._)("li",Je,[(0,o._)("a",et,(0,_.zw)(e.product.title),1)])])]),(0,o._)("section",tt,[(0,o._)("div",rt,[(0,o._)("div",at,[(0,o._)("img",{width:"400",src:e.product.image.file.url,alt:e.product.title},null,8,ot)])]),(0,o._)("div",st,[(0,o._)("span",lt,"Артикул: "+(0,_.zw)(e.product.id),1),(0,o._)("h2",it,(0,_.zw)(e.product.title),1),(0,o._)("div",ct,[(0,o._)("form",{class:"form",action:"#",method:"POST",onSubmit:t[2]||(t[2]=(0,a.iM)(((...t)=>e.doAddToCart&&e.doAddToCart(...t)),["prevent"]))},[(0,o._)("b",nt,(0,_.zw)(e.product.PricePretty)+" р. ",1),(0,o._)("fieldset",ut,[dt,(0,o._)("ul",_t,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.product.colors,(e=>((0,o.wg)(),(0,o.iD)("li",{class:"colors__item",key:e.id},[(0,o._)("label",{class:"colors__label",for:e.id},[(0,o._)("input",{class:"colors__radio sr-only",type:"radio",name:"color-item",value:e.id,id:e.id},null,8,mt),(0,o._)("span",{class:"colors__value",style:(0,_.j5)({background:e.code})},null,4)],8,pt)])))),128))])]),ht,(0,o._)("div",ft,[(0,o.Wm)(n,{amount:e.productAmount,onChange:t[0]||(t[0]=t=>e.productAmount=t)},null,8,["amount"]),(0,o._)("button",{class:"button button--primery",type:"submit",disabled:e.productAddSending}," В корзину ",8,gt),(0,o.Wm)(u,{open:e.isShowAddedMessage,"onUpdate:open":t[1]||(t[1]=t=>e.isShowAddedMessage=t)},{default:(0,o.w5)((()=>[bt])),_:1},8,["open"])]),(0,o.wy)((0,o._)("div",null,"Товар добавлен в корзину",512),[[a.F8,e.productAdded]]),(0,o.wy)((0,o._)("div",null,"Добавлен товар в корзину",512),[[a.F8,e.productAddSending]])],32)])]),vt])]))}var kt=r(7965),Pt=r(2931),wt=r(9098),Ct=(0,o.aZ)({components:{ProductAddRemove:kt.Z,BaseModal:N.Z},setup(){const e=(0,y.oR)(),t=(0,C.yj)(),{product:r,category:a,products:o,fetchProduct:s,status:l}=(0,wt.Z)(),i=(0,Pt.iH)(1),c=(0,Pt.iH)(!1),n=(0,Pt.iH)(!1),u=(0,Pt.iH)(!1),d=()=>{n.value=!1,u.value=!0,e.dispatch("addProductToCart",{productId:r.value.id,amount:i.value}).then((()=>{c.value=!0,n.value=!0,u.value=!1}))};return s(t.params.id),{productAmount:i,productData:r,productStatus:l,isShowAddedMessage:c,productAdded:n,productAddSending:u,product:r,category:a,products:o,doAddToCart:d}}});const Dt=(0,g.Z)(Ct,[["render",yt]]);var It=Dt;const zt={class:"content container"},Tt={class:"content__top"},At={class:"breadcrumbs"},Ft={class:"breadcrumbs__item"},Zt=(0,o.Uk)(" Каталог "),Ot=(0,o._)("li",{class:"breadcrumbs__item"},[(0,o._)("a",{class:"breadcrumbs__link"}," Корзина ")],-1),Vt=(0,o._)("h1",{class:"content__title"}," Корзина ",-1),xt={class:"content__info"},Et={class:"cart"},Ut={class:"cart__form form",action:"#",method:"POST"},$t={class:"cart__field"},St={class:"cart__list"},Wt={class:"cart__block"},Kt=(0,o._)("p",{class:"cart__desc"}," Мы посчитаем стоимость доставки на следующем этапе ",-1),Mt={class:"cart__price"},Lt=(0,o.Uk)(" Итого: "),jt=["onClick"];function Bt(e,t,r,a,s,l){const i=(0,o.up)("router-link"),c=(0,o.up)("CartItem");return(0,o.wg)(),(0,o.iD)("main",zt,[(0,o._)("div",Tt,[(0,o._)("ul",At,[(0,o._)("li",Ft,[(0,o.Wm)(i,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[Zt])),_:1})]),Ot]),Vt,(0,o._)("span",xt,(0,_.zw)(e.$store.state.cartProducts.length)+" товара ",1)]),(0,o._)("section",Et,[(0,o._)("form",Ut,[(0,o._)("div",$t,[(0,o._)("ul",St,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.products,(e=>((0,o.wg)(),(0,o.j4)(c,{key:e.productId,item:e},null,8,["item"])))),128))])]),(0,o._)("div",Wt,[Kt,(0,o._)("p",Mt,[Lt,(0,o._)("span",null,(0,_.zw)(e.totalPricePretty)+" ₽",1)]),(0,o.Wm)(i,{to:{name:"order"},custom:""},{default:(0,o.w5)((({navigate:t})=>[0!=e.products.length?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"cart__button button button--primery",type:"button",onClick:t},"Оформить заказ",8,jt)):(0,o.kq)("",!0)])),_:1})])])])])}const Ht={class:"cart__item product"},Nt={class:"product__pic"},qt=["src"],Yt={class:"product__title"},Rt={class:"product__code"},Qt={class:"product__price"},Gt=(0,o._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-close"})],-1),Xt=[Gt];function Jt(e,t,r,s,l,i){const c=(0,o.up)("ProductAddRemove");return(0,o.wg)(),(0,o.iD)("li",Ht,[(0,o._)("div",Nt,[(0,o._)("img",{src:r.item.product.image,width:"120",height:"120",alt:"item.product.title"},null,8,qt)]),(0,o._)("h3",Yt,(0,_.zw)(r.item.product.title),1),(0,o._)("span",Rt," Артикул: "+(0,_.zw)(r.item.product.id),1),(0,o.Wm)(c,{amount:i.amount,onChange:t[0]||(t[0]=e=>i.amount=e)},null,8,["amount"]),(0,o._)("b",Qt,(0,_.zw)(i.totalPricePretty)+" ₽ ",1),(0,o._)("button",{class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины",onClick:t[1]||(t[1]=(0,a.iM)((t=>e.deleteCartProducts(r.item.productId)),["prevent"]))},Xt)])}var er={components:{ProductAddRemove:kt.Z},props:["item"],computed:{totalPricePretty(){return(0,H.Z)(this.item.amount*this.item.product.price)},amount:{get(){return this.item.amount},set(e){this.$store.dispatch("updateCartProductAmount",{productId:this.item.productId,amount:e})}}},methods:{...(0,y.OI)({deleteProduct:"deleteCartProduct"}),...(0,y.nv)(["deleteCartProducts"])}};const tr=(0,g.Z)(er,[["render",Jt]]);var rr=tr,ar=(0,o.aZ)({components:{CartItem:rr},computed:{...(0,y.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice"}),totalPricePretty(){return(0,H.Z)(this.totalPrice)}}});const or=(0,g.Z)(ar,[["render",Bt]]);var sr=or,lr=r.p+"img/Spinner-3.c815bf5e.gif";const ir={class:"content container"},cr={class:"content__top"},nr={class:"breadcrumbs"},ur={class:"breadcrumbs__item"},dr=(0,o.Uk)(" Каталог "),_r={class:"breadcrumbs__item"},pr=(0,o.Uk)(" Корзина "),mr=(0,o._)("li",{class:"breadcrumbs__item"},[(0,o._)("a",{class:"breadcrumbs__link"}," Оформление заказа ")],-1),hr=(0,o._)("h1",{class:"content__title"}," Корзина ",-1),fr={class:"content__info"},gr={class:"cart"},br={key:0,class:"cart__field"},vr=(0,o._)("img",{width:"50%",src:lr,alt:""},null,-1),yr=[vr],kr={key:1,class:"cart__field"},Pr={class:"cart__data"},wr={class:"cart__options"},Cr=(0,o._)("h3",{class:"cart__title"},"Доставка",-1),Dr={class:"cart__options options"},Ir=(0,o._)("li",{class:"options__item"},[(0,o._)("label",{class:"options__label"},[(0,o._)("input",{class:"options__radio sr-only",type:"radio",name:"delivery",value:"0",checked:""}),(0,o._)("span",{class:"options__value"},[(0,o.Uk)(" Самовывоз "),(0,o._)("b",null,"бесплатно")])])],-1),zr={class:"options__item"},Tr={class:"options__label"},Ar=(0,o._)("input",{class:"options__radio sr-only",type:"radio",name:"delivery",value:"500"},null,-1),Fr={class:"options__value"},Zr=(0,o.Uk)(" Курьером "),Or=(0,o.uE)('<h3 class="cart__title">Оплата</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="card"><span class="options__value"> Картой при получении </span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="cash"><span class="options__value"> Наличными при получении </span></label></li></ul>',2),Vr={class:"cart__block"},xr={class:"cart__orders"},Er={class:"cart__total"},Ur=(0,o.Uk)("Доставка: "),$r=(0,o.Uk)("Итого: "),Sr=(0,o.Uk)(" товара на сумму "),Wr=(0,o._)("button",{class:"cart__button button button--primery",type:"submit"}," Оформить заказ ",-1),Kr={key:2,class:"cart__error form__error-block"},Mr=(0,o._)("h4",null,"Заявка не отправлена!",-1);function Lr(e,t,r,s,l,i){const c=(0,o.up)("router-link"),n=(0,o.up)("BaseFormText"),u=(0,o.up)("BaseFormTextarea"),d=(0,o.up)("CartOrder");return(0,o.wg)(),(0,o.iD)("main",ir,[(0,o._)("div",cr,[(0,o._)("ul",nr,[(0,o._)("li",ur,[(0,o.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[dr])),_:1})]),(0,o._)("li",_r,[(0,o.Wm)(c,{class:"breadcrumbs__link",to:{name:"cart"}},{default:(0,o.w5)((()=>[pr])),_:1})]),mr]),hr,(0,o._)("span",fr," товаров в корзине: "+(0,_.zw)(e.$store.state.cartProducts.length),1)]),(0,o._)("section",gr,[(0,o._)("form",{class:"cart__form form",action:"#",method:"POST",onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>i.order&&i.order(...e)),["prevent"]))},[l.formLoading?((0,o.wg)(),(0,o.iD)("div",br,yr)):((0,o.wg)(),(0,o.iD)("div",kr,[(0,o._)("div",Pr,[(0,o.Wm)(n,{modelValue:l.formData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.formData.name=e),title:"ФИО",error:l.formError.name,placeholder:"Введите ваше полное имя"},null,8,["modelValue","error"]),(0,o.Wm)(n,{modelValue:l.formData.address,"onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.address=e),title:"Адрес доставки",error:l.formError.address,placeholder:"Введите ваш адрес"},null,8,["modelValue","error"]),(0,o.Wm)(n,{modelValue:l.formData.phone,"onUpdate:modelValue":t[2]||(t[2]=e=>l.formData.phone=e),title:"Телефон",type:"tel",error:l.formError.phone,placeholder:"Введите ваш телефон"},null,8,["modelValue","error"]),(0,o.Wm)(n,{modelValue:l.formData.email,"onUpdate:modelValue":t[3]||(t[3]=e=>l.formData.email=e),title:"Email",type:"email",error:l.formError.email,placeholder:"Введи ваш Email"},null,8,["modelValue","error"]),(0,o.Wm)(u,{title:"Комментарий к заказу",modelValue:l.formData.comment,"onUpdate:modelValue":t[4]||(t[4]=e=>l.formData.comment=e),error:l.formError.comment,placeholder:"Ваши пожелания"},null,8,["modelValue","error"])]),(0,o._)("div",wr,[Cr,(0,o._)("ul",Dr,[Ir,(0,o._)("li",zr,[(0,o._)("label",Tr,[Ar,(0,o._)("span",Fr,[Zr,(0,o._)("b",null,(0,_.zw)(i.deliveryPrice)+" ₽",1)])])])]),Or])])),(0,o._)("div",Vr,[(0,o._)("ul",xr,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.products,(e=>((0,o.wg)(),(0,o.j4)(d,{key:e.productId,item:e},null,8,["item"])))),128))]),(0,o._)("div",Er,[(0,o._)("p",null,[Ur,(0,o._)("b",null,(0,_.zw)(i.deliveryPrice)+" ₽",1)]),(0,o._)("p",null,[$r,(0,o._)("b",null,(0,_.zw)(e.$store.state.cartProducts.length),1),Sr,(0,o._)("b",null,(0,_.zw)(i.PricePretty),1)])]),Wr]),l.formErrorMessage?((0,o.wg)(),(0,o.iD)("div",Kr,[Mr,(0,o._)("p",null,(0,_.zw)(l.formErrorMessage),1)])):(0,o.kq)("",!0)],32)])])}r(7658);const jr=["placeholder"];function Br(e,t,r,s,l,i){const c=(0,o.up)("BaseFormField");return(0,o.wg)(),(0,o.j4)(c,{title:e.title,error:e.error},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{class:"form__input","onUpdate:modelValue":t[0]||(t[0]=t=>e.dataValue=t),type:"text",placeholder:e.placeholder},null,8,jr),[[a.nr,e.dataValue]])])),_:1},8,["title","error"])}const Hr={class:"form__label"},Nr={class:"form__value"},qr={key:0,class:"form__error"};function Yr(e,t,r,a,s,l){return(0,o.wg)(),(0,o.iD)("label",Hr,[(0,o.WI)(e.$slots,"default"),(0,o._)("span",Nr,(0,_.zw)(r.title),1),r.error?((0,o.wg)(),(0,o.iD)("span",qr,(0,_.zw)(r.error),1)):(0,o.kq)("",!0)])}var Rr={props:["title","error"]};const Qr=(0,g.Z)(Rr,[["render",Yr]]);var Gr=Qr,Xr={props:["title","error","placeholder","modelValue"],components:{BaseFormField:Gr},computed:{dataValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},Jr={mixins:[Xr]};const ea=(0,g.Z)(Jr,[["render",Br]]);var ta=ea;const ra=["placeholder"];function aa(e,t,r,s,l,i){const c=(0,o.up)("BaseFormField");return(0,o.wg)(),(0,o.j4)(c,{title:e.title,error:e.error},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("textarea",{class:"form__input form__input--area","onUpdate:modelValue":t[0]||(t[0]=t=>e.dataValue=t),placeholder:e.placeholder},null,8,ra),[[a.nr,e.dataValue]])])),_:1},8,["title","error"])}var oa={mixins:[Xr]};const sa=(0,g.Z)(oa,[["render",aa]]);var la=sa;const ia={class:"cart__order"};function ca(e,t,r,a,s,l){return(0,o.wg)(),(0,o.iD)("li",ia,[(0,o._)("h3",null,(0,_.zw)(r.item.product.title),1),(0,o._)("b",null,(0,_.zw)(l.productPrice),1),(0,o._)("span",null,"Количество: "+(0,_.zw)(r.item.amount),1),(0,o._)("span",null,"Артикул: "+(0,_.zw)(r.item.product.id),1)])}var na={props:["item"],computed:{productPrice(){return(0,H.Z)(this.item.amount*this.item.product.price)}}};const ua=(0,g.Z)(na,[["render",ca]]);var da=ua,_a={components:{BaseFormText:ta,BaseFormTextarea:la,CartOrder:da},computed:{...(0,y.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice"}),PricePretty(){return(0,H.Z)(this.totalPrice)},deliveryPrice(){return(0,H.Z)(this.$store.state.deliveryPrice)}},data(){return{formData:{},formError:{},formErrorMessage:"",formLoading:!1,FormLoadingFailed:!1}},methods:{order(){this.formLoading=!1,this.formLoadingFailed=!0,this.formError={},this.formErrorMessage="",clearTimeout(this.loadFormTimer),this.loadFormTimer=setTimeout((()=>{Ve.Z.post(xe.C+"/api/orders",{...this.formData},{params:{userAccessKey:this.$store.state.userAccessKey}}).then((e=>{this.$store.commit("resetCart"),this.$store.commit("updateOrderInfo",e.data),this.$router.push({name:"orderinfo",params:{id:e.data.id}})})).catch((e=>{this.formError=e.response.data.error.request||{},this.formErrorMessage=e.response.data.error.message})).catch((()=>this.formLoadingFailed=!1)).then((()=>this.formsLoading=!0))}),0)}}};const pa=(0,g.Z)(_a,[["render",Lr]]);var ma=pa;const ha={class:"content container"},fa={class:"content__top"},ga={class:"breadcrumbs"},ba={class:"breadcrumbs__item"},va=(0,o.Uk)(" Каталог "),ya={class:"breadcrumbs__item"},ka=(0,o.Uk)(" Корзина "),Pa=(0,o._)("li",{class:"breadcrumbs__item"},[(0,o._)("a",{class:"breadcrumbs__link"}," Оформление заказа ")],-1),wa={class:"content__title"},Ca=(0,o.Uk)(" Заказ оформлен "),Da={class:"cart"},Ia={class:"cart__form form",action:"#",method:"POST"},za={class:"cart__field"},Ta=(0,o._)("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),Aa={class:"dictionary"},Fa={class:"dictionary__item"},Za=(0,o._)("span",{class:"dictionary__key"}," Получатель ",-1),Oa={class:"dictionary__value"},Va={class:"dictionary__item"},xa=(0,o._)("span",{class:"dictionary__key"}," Адрес доставки ",-1),Ea={class:"dictionary__value"},Ua={class:"dictionary__item"},$a=(0,o._)("span",{class:"dictionary__key"}," Телефон ",-1),Sa={class:"dictionary__value"},Wa={class:"dictionary__item"},Ka=(0,o._)("span",{class:"dictionary__key"}," Email ",-1),Ma={class:"dictionary__value"},La=(0,o._)("li",{class:"dictionary__item"},[(0,o._)("span",{class:"dictionary__key"}," Способ оплаты "),(0,o._)("span",{class:"dictionary__value"}," картой при получении ")],-1),ja={class:"cart__block"},Ba={class:"cart__orders"},Ha={class:"cart__total"},Na=(0,o.Uk)("Доставка: "),qa=(0,o.Uk)("Итого: "),Ya=(0,o.Uk)(" товара на сумму ");function Ra(e,t,r,a,s,l){const i=(0,o.up)("router-link"),c=(0,o.up)("CardOrderInfo");return(0,o.wg)(),(0,o.iD)("main",ha,[(0,o._)("div",fa,[(0,o._)("ul",ga,[(0,o._)("li",ba,[(0,o.Wm)(i,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[va])),_:1})]),(0,o._)("li",ya,[(0,o.Wm)(i,{class:"breadcrumbs__link",to:{name:"cart"}},{default:(0,o.w5)((()=>[ka])),_:1})]),Pa]),(0,o._)("h1",wa,[Ca,(0,o._)("span",null,"№ "+(0,_.zw)(l.orderInfo.id),1)])]),(0,o._)("section",Da,[(0,o._)("form",Ia,[(0,o._)("div",za,[Ta,(0,o._)("ul",Aa,[(0,o._)("li",Fa,[Za,(0,o._)("span",Oa,(0,_.zw)(l.orderInfo.name),1)]),(0,o._)("li",Va,[xa,(0,o._)("span",Ea,(0,_.zw)(l.orderInfo.address),1)]),(0,o._)("li",Ua,[$a,(0,o._)("span",Sa,(0,_.zw)(l.orderInfo.phone),1)]),(0,o._)("li",Wa,[Ka,(0,o._)("span",Ma,(0,_.zw)(l.orderInfo.email),1)]),La])]),(0,o._)("div",ja,[(0,o._)("ul",Ba,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.orderInfo.basket.items,(e=>((0,o.wg)(),(0,o.j4)(c,{key:e.id,item:e,class:"cart__order"},null,8,["item"])))),128))]),(0,o._)("div",Ha,[(0,o._)("p",null,[Na,(0,o._)("b",null,(0,_.zw)(l.deliveryPrice)+" ₽",1)]),(0,o._)("p",null,[qa,(0,o._)("b",null,(0,_.zw)(l.orderInfo.basket.items.length),1),Ya,(0,o._)("b",null,(0,_.zw)(l.totalPriceWithDelivery)+" ₽",1)])])])])])])}const Qa={class:"cart__order"};function Ga(e,t,r,a,s,l){return(0,o.wg)(),(0,o.iD)("li",Qa,[(0,o._)("h3",null,(0,_.zw)(r.item.product.title),1),(0,o._)("b",null,(0,_.zw)(l.productPrice),1),(0,o._)("span",null,"Количество: "+(0,_.zw)(r.item.quantity),1),(0,o._)("span",null,"Артикул: "+(0,_.zw)(r.item.product.id),1)])}var Xa={props:["item"],computed:{productPrice(){return(0,H.Z)(this.item.product.price*this.item.quantity)}}};const Ja=(0,g.Z)(Xa,[["render",Ga]]);var eo=Ja,to={components:{CardOrderInfo:eo},computed:{orderInfo(){return this.$store.state.orderInfo},totalPriceWithDelivery(){return(0,H.Z)(this.$store.state.orderInfo.totalPrice+this.$store.state.deliveryPrice)},deliveryPrice(){return(0,H.Z)(this.$store.state.deliveryPrice)}},created(){this.$store.state.orderinfo&&this.$store.state.orderinfo.id===this.$route.params.id||this.$store.dispatch("loadOrderInfo",this.$route.params.id)}};const ro=(0,g.Z)(to,[["render",Ra]]);var ao=ro,oo=r(3076),so=r.n(oo);const lo=[{name:"main",component:Ke,path:"/"},{name:"product",component:It,path:"/product/:id"},{name:"cart",component:sr,path:"/cart/"},{name:"order",component:ma,path:"/order/"},{name:"orderinfo",component:ao,path:"/order/:id"},{name:"notFound",component:Be,path:"/:pathMatch(.*)*"}],io=(0,C.p7)({history:(0,C.r5)(so().publicPath),routes:lo});var co=io,no=(0,y.MT)({state:{cartProducts:[],userAccessKey:null,cartProductsDate:[],orderInfo:null,deliveryPrice:500},mutations:{updateOrderInfo(e,t){e.orderInfo=t},resetCart(e){e.cartProducts=[],e.cartProductsDate=[]},updateCartProductAmount(e,{productId:t,amount:r}){const a=e.cartProducts.find((e=>e.productId===t));a&&(a.amount=r)},deleteCartProduct(e,t){e.cartProducts=e.cartProducts.filter((e=>e.productId!==t))},updateUserAccessKey(e,t){e.userAccessKey=t},updateCartProductsDate(e,t){e.cartProductsDate=t},syncCartProducts(e){e.cartProducts=e.cartProductsDate.map((e=>({productId:e.product.id,amount:e.quantity})))}},getters:{cartDetailProducts(e){return e.cartProducts.map((t=>{const r=e.cartProductsDate.find((e=>e.product.id===t.productId)).product;return{...t,product:{...r,image:r.image.file.url}}}))},cartTotalPrice(e,t){return t.cartDetailProducts.reduce(((e,t)=>t.product.price*t.amount+e),0)}},actions:{loadOrderInfo(e,t){return Ve.Z.get(xe.C+"/api/orders/"+t,{params:{userAccessKey:e.state.userAccessKey}}).then((t=>{e.commit("updateOrderInfo",t.data)}))},loadCart(e){return Ve.Z.get(xe.C+"/api/baskets",{params:{userAccessKey:e.state.userAccessKey}}).then((t=>{e.state.userAccessKey||(localStorage.setItem("userAccessKey",t.data.user.accessKey),e.commit("updateUserAccessKey",t.data.user.accessKey)),e.commit("updateCartProductsDate",t.data.items),e.commit("syncCartProducts")}))},addProductToCart(e,{productId:t,amount:r}){return Ve.Z.post(xe.C+"/api/baskets/products",{productId:t,quantity:r},{params:{userAccessKey:e.state.userAccessKey}}).then((t=>{e.commit("updateCartProductsDate",t.data.items),e.commit("syncCartProducts")}))},updateCartProductAmount(e,{productId:t,amount:r}){if(e.commit("updateCartProductAmount",{productId:t,amount:r}),!(r<1))return Ve.Z.put(xe.C+"/api/baskets/products",{productId:t,quantity:r},{params:{userAccessKey:e.state.userAccessKey}}).then((t=>{e.commit("updateCartProductsDate",t.data.items)})).catch((()=>{e.commit("syncCartProducts")}))},deleteCartProducts(e,t){return Ve.Z["delete"](xe.C+"/api/baskets/products",{data:{productId:t},params:{userAccessKey:e.state.userAccessKey}}).then((t=>{e.commit("updateCartProductsDate",t.data.items),e.commit("syncCartProducts")}))}}});const uo=(0,a.ri)({render:()=>(0,o.h)(w)});uo.use(co),uo.use(no),uo.mount("#app")},3076:function(e){e.exports={publicPath:"/vue-app-3/"}},8279:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var a=r(6252);const o=e=>((0,a.dD)("data-v-6bf2719f"),e=e(),(0,a.Cn)(),e),s=o((()=>(0,a._)("div",{class:"teleport-blackout"},null,-1))),l={ref:"contentElement",class:"teleport-modal__content"};function i(e,t,r,o,i,c){return e.open?((0,a.wg)(),(0,a.j4)(a.lR,{key:0,to:"#teleport-target"},[s,(0,a._)("div",{class:"teleport-modal",onClick:t[1]||(t[1]=(...t)=>e.onOutsideClick&&e.onOutsideClick(...t))},[(0,a._)("div",l,[(0,a._)("button",{type:"button",class:"teleport-modal__close",onClick:t[0]||(t[0]=(...t)=>e.doClose&&e.doClose(...t))},"X"),(0,a.WI)(e.$slots,"default",{},void 0,!0)],512)]),(0,a.WI)(e.$slots,"default",{},void 0,!0)])):(0,a.kq)("",!0)}var c=r(2931);const n=(0,c.iH)(new Set);function u(){const e=(0,a.FN)().uid,t=(0,c.iH)(!1),r=()=>{t.value=!0,n.value.add(e)},o=()=>{t.value=!1,n.value.delete(e)},s=(0,a.Fl)((()=>!!n.value.size)),l=()=>{s.value?(document.body.style.paddingRight=window.innerWidth-document.documentElement.clientWidth+"px",document.body.style.overflow="hidden"):(document.body.style.overflow=null,document.body.style.paddingRight=null)};return(0,a.YP)(s,(()=>{l()})),{doOpen:r,doClose:o,isOpen:t,isSomeOpen:s}}var d=(0,a.aZ)({props:{open:{type:Boolean}},setup(e,{emit:t}){const r=(0,c.iH)(null),{doOpen:o,doClose:s}=u(),l=e=>{e.target!==r.value&&e.target.contains(r.value)&&i()},i=()=>{t("update:open",!1)};return(0,a.YP)((()=>e.open),(e=>{e?o():s()}),{immediate:!0}),{onOutsideClick:l,doClose:i,contentElement:r}}}),_=r(3744);const p=(0,_.Z)(d,[["render",i],["__scopeId","data-v-6bf2719f"]]);var m=p},7965:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var a=r(6252),o=r(8061);const s={class:"product__counter form__counter"},l=(0,a._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-minus"})],-1),i=[l],c=["value"],n=(0,a._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-plus"})],-1),u=[n];function d(e,t,r,l,n,d){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("button",{type:"button",onClick:t[0]||(t[0]=(0,o.iM)((e=>d.change(r.amount)),["prevent"])),"aria-label":"Убрать один товар"},i),(0,a._)("input",{type:"text",value:r.amount,onInput:t[1]||(t[1]=t=>e.$emit("change",t.target.value)),name:"count"},null,40,c),(0,a._)("button",{type:"button",onClick:t[2]||(t[2]=t=>e.$emit("change",r.amount+1)),"aria-label":"Добавить один товар"},u)])}var _={model:{prop:"amount",event:"change"},props:["amount"],emits:["update:change"],methods:{change(e){e<=1?e=1:this.$emit("change",this.amount-1)}}},p=r(3744);const m=(0,p.Z)(_,[["render",d]]);var h=m}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,a,o,s){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],s=e[u][2];for(var i=!0,c=0;c<a.length;c++)(!1&s||l>=s)&&Object.keys(r.O).every((function(e){return r.O[e](a[c])}))?a.splice(c--,1):(i=!1,s<l&&(l=s));if(i){e.splice(u--,1);var n=o();void 0!==n&&(t=n)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,o,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,a){return r.f[a](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+".71f8e45d.js"}}(),function(){r.miniCssF=function(e){return"css/"+e+".467f6699.css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="project-1:";r.l=function(a,o,s,l){if(e[a])e[a].push(o);else{var i,c;if(void 0!==s)for(var n=document.getElementsByTagName("script"),u=0;u<n.length;u++){var d=n[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+s){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=a),e[a]=[o];var _=function(t,r){i.onerror=i.onload=null,clearTimeout(p);var o=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(_.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=_.bind(null,i.onerror),i.onload=_.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/vue-app-3/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,r,a,o){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var l=function(r){if(s.onerror=s.onload=null,"load"===r.type)a();else{var l=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=l,c.request=i,s.parentNode&&s.parentNode.removeChild(s),o(c)}};return s.onerror=s.onload=l,s.href=t,r?r.parentNode.insertBefore(s,r.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var o=r[a],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===e||s===t))return o}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){o=l[a],s=o.getAttribute("data-href");if(s===e||s===t)return o}},a=function(a){return new Promise((function(o,s){var l=r.miniCssF(a),i=r.p+l;if(t(l,i))return o();e(a,i,null,o,s)}))},o={143:0};r.f.miniCss=function(e,t){var r={395:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=a(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};r.f.j=function(t,a){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var s=new Promise((function(r,a){o=e[t]=[r,a]}));a.push(o[2]=s);var l=r.p+r.u(t),i=new Error,c=function(a){if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+l+")",i.name="ChunkLoadError",i.type=s,i.request=l,o[1](i)}};r.l(l,c,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,l=a[0],i=a[1],c=a[2],n=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(c)var u=c(r)}for(t&&t(a);n<l.length;n++)s=l[n],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},a=self["webpackChunkproject_1"]=self["webpackChunkproject_1"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(2820)}));a=r.O(a)})();
//# sourceMappingURL=app.f297486e.js.map